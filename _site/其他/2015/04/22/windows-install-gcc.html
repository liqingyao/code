<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>Windows下安装与使用GCC编译器</title>
  <meta name="description" content="什么是GCC?我们在Windows系统下习惯使用诸如Windows Visual Stdio图形化IDE工具来编辑和编译代码，但在Unix/Linux系统下如何编译C++代码呢？答案是GCC(GUN Compiler Collection)。GCC源于一场自由软件计划，最初只能在不同操作系统上处理C语言，经过快速...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://code.liqingyao.com/%E5%85%B6%E4%BB%96/2015/04/22/windows-install-gcc.html">
  <link rel="alternate" type="application/atom+xml" title="Li Qingyao" href="http://code.liqingyao.com/feed.xml" />
  <script src="/scripts/jquery-1.11.2.min.js"></script>
  <script src="/scripts/pithy.js"></script>
</head>


  <body>
    <header class="header">
	<div class="header-container">
		<div class="nav">
			
				<li>
					<a href="/index.html">blog</a>
				</li>
			
			
				<li>
					<a href="/archive.html">archive</a>
				</li>
			
			
				<li>
					<a href="/category.html">category</a>
				</li>
			
			
				<li>
					<a href="/about.html">about</a>
				</li>
			
		</div>
		<div class="description"> 简单，可信赖 </div>
		<ul class="social-links">
			<li>
				<a href="https://github.com/liqingyao" title="Github">
					<img width="19px" height="19px" src="/images/github.png"/>
				</a>
			</li>
			<li>
				<a href="/feed.xml" title="RSS">
					<img width="19px" height="19px" src="/images/rss.png"/>
				</a>
			</li>
			<li>
				<a href="https://twitter.com/jekyllrb" title="Twitter">
					<img width="19px" height="19px" src="/images/twitter.png"/>
				</a>
			</li>
		</ul>
	</div>
</header>

    <br>
    <div class="page-content">
      <div class="wrapper">
        <div class="post">
  <br>
  <header class="post-header">
    <h1 class="post-title">Windows下安装与使用GCC编译器</h1>
    <p class="post-meta">Apr 22, 2015</p>
  </header>

  <article class="post-content">
    <h3 id="gcc"><strong>什么是GCC?</strong></h3>
<p>我们在Windows系统下习惯使用诸如Windows Visual Stdio图形化IDE工具来编辑和编译代码，但在Unix/Linux系统下如何编译C++代码呢？答案是GCC(GUN Compiler Collection)。GCC源于一场自由软件计划，最初只能在不同操作系统上处理C语言，经过快速扩张后目前也支持C++/Objective-C/Java/Ada/Pascal/Fortran等多种语言的编译。</p>

<h3 id="gcc-1"><strong>安装GCC</strong></h3>
<ol>
  <li>下载安装MinGW
MinGW(Minimalist GNU on Windows)是Windows系统下GNU工具套装，使用MinGW来安装GCC。
<a href="http://sourceforge.net/projects/mingw/files/">点击下载</a>，并安装到C盘根目录。</li>
  <li>配置Windows环境变量
找到环境变量：控制面板-&gt;系统-&gt;高级系统设置-&gt;高级-&gt;环境变量；
在系统变量中选择<code>Path</code>，并在变量值中添加<code>C:\MinGW\bin</code>
在系统变量中新建<code>LIBRARY_PATH</code>，变量值是<code>C:\MinGW\lib</code>
在系统变量中新建<code>C_INCLUDE_PATH</code>，变量值是<code>C:\MinGW\include</code>
以上操作分别配置了标准库和头文件的存放路径。</li>
  <li>使用MinGW安装GCC
运行MinGW,在Basic Setup中选择mingw32-gcc-g++
选择Installation-&gt;Apply Changes
等待GCC相关环境安装完毕。</li>
  <li>以上步骤完成后，在cmd敲入命令
<code>gcc --version</code>
如果安装成功，会显示gcc版本号。</li>
</ol>

<h3 id="gcc-2"><strong>使用GCC</strong></h3>
<ol>
  <li>创建GCC工作目录
<code>mkdir CPP</code></li>
  <li>前往工作目录
<code>cd CPP</code></li>
  <li>选择一种文本编辑器（比如Windows自带的notepad）
<code>notepad main.c</code></li>
  <li>在自动弹出的文本编辑器中敲测试代码，保存</li>
</ol>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="kp">include</span> <span class="s2">"stdlib.h"</span><span class="p">;</span>
<span class="n">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s2">"Hello World</span><span class="se">\n</span><span class="s2">"</span><span class="p">);</span>
    <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<!-- <pre class="theme:github width-set:true width:450 lang:default decode:true " >include &lt;stdio.h&gt;
include &lt;stdlib.h&gt;
int main() {
    printf("Hello World\n");
    return(0);
}</pre> -->

<ol>
  <li>使用GCC编译main.c，输出HelloWorld可执行文件
<code>gcc main.c -o HelloWorld</code></li>
  <li>此时会报错“缺少libgcc_s_sjlj-1.dll文件”
<a href="http://www.dll-files.com/dllindex/dll-files.shtml?libgcc_s_sjlj-1">点击下载</a>32-bit版本，解压并放到C:\Windows\SysWOW64中</li>
  <li>重复步骤5，正常运行，此时可以看到工作目录下生成了HelloWorld.exe文件。最后在cmd中运行文件
<code>HelloWorld.exe</code>
终于看到第一个测试输出“HelloWorld”，大功告成！</li>
</ol>

<p>[参考资料]</p>
<ol>
	<li>http://www.wikihow.com/Compile-a-C-Program-Using-the-GNU-Compiler-(GCC)</li>
	<li>http://blog.csdn.net/firefoxbug/article/details/6724876</li>
</ol>

  </article>
</div>

      </div>
    </div>

    <footer class="footer">
  <div id="gotop">^</div>
  <br>
	@2015 LiQingyao | Theme by <a href="https://github.com/smallmuou/Jekyll-Pithy">Pawpaw</a> powered by <a href="http://jekyllrb.com/">Jekyll</a> and hosted on <a href="https://github.com/">Github</a>
</footer>


  </body>

</html>
